"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),PorterStemmer=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"_c",value:function(){return"[^aeiou]"}},{key:"_v",value:function(){return"[aeiouy]"}},{key:"_C",value:function(){return e._c()+"[^aeiouy]*"}},{key:"_V",value:function(){return e._v()+"[aeiou]*"}},{key:"_mgr0",value:function(){return"^("+e._C()+")?"+e._V()+e._C()}},{key:"_meq1",value:function(){return"^("+e._C()+")?"+e._V()+e._C()+"("+e._V()+")?$"}},{key:"_mgr1",value:function(){return"^("+e._C()+")?"+e._V()+e._C()+e._V()+e._C()}},{key:"_hv",value:function(){return"^("+e._C()+")?"+e._v()}},{key:"_step2",value:function(){return{ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"}}},{key:"_step3",value:function(){return{icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""}}},{key:"_normalize",value:function(e){var t=e.substr(0,1);return"y"==t&&(e=t.toUpperCase()+e.substr(1)),e.toLowerCase().replace(/[^a-zA-Z]+/g,"")}},{key:"_doStep1a",value:function(e){var t=/^(.+?)(ss|i)es$/,n=/^(.+?)([^s])s$/;return t.test(e)?e=e.replace(t,"$1$2"):n.test(e)&&(e=e.replace(n,"$1$2")),e}},{key:"_doStep1b",value:function(t){var n=/^(.+?)eed$/,i=/^(.+?)(ed|ing)$/;if(n.test(t)){var a=n.exec(t);(n=new RegExp(e._mgr0())).test(a[1])&&(n=/.$/,t=t.replace(n,""))}else if(i.test(t)){var r=i.exec(t)[1];if((i=new RegExp(e._hv())).test(r)){t=r,i=/(at|bl|iz)$/;var l=new RegExp("([^aeiouylsz])\\1$"),u=new RegExp("^"+e._C()+e._v()+"[^aeiouwxy]$");i.test(t)?t+="e":l.test(t)?(n=/.$/,t=t.replace(n,"")):u.test(t)&&(t+="e")}}return t}},{key:"_doStep1c",value:function(t){var n=new RegExp("^(.*"+e._v()+".*)y$");return n.test(t)&&(t=n.exec(t)[1]+"i"),t}},{key:"_doStep2",value:function(t){var n=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;if(n.test(t)){var i=n.exec(t),a=i[1],r=i[2];(n=new RegExp(e._mgr0())).test(a)&&(t=a+e._step2()[r])}return t}},{key:"_doStep3",value:function(t){var n=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;if(n.test(t)){var i=n.exec(t),a=i[1],r=i[2];(n=new RegExp(e._mgr0())).test(a)&&(t=a+e._step3()[r])}return t}},{key:"_doStep4",value:function(t){var n=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,i=/^(.+?)(s|t)(ion)$/;if(n.test(t)){var a=n.exec(t)[1];(n=new RegExp(e._mgr1())).test(a)&&(t=a)}else if(i.test(t)){var r=i.exec(t),l=r[1]+r[2];(i=new RegExp(e._mgr1())).test(l)&&(t=l)}return t}},{key:"_doStep5",value:function(t){var n=/^(.+?)e$/;if(n.test(t)){var i=n.exec(t)[1];n=new RegExp(e._mgr1());var a=new RegExp(e._meq1()),r=new RegExp("^"+e._C()+e._v()+"[^aeiouwxy]$");(n.test(i)||a.test(i)&&!r.test(i))&&(t=i)}n=/ll$/;var l=new RegExp(e._mgr1());return n.test(t)&&l.test(t)&&(n=/.$/,t=t.replace(n,"")),t}},{key:"stem",value:function(t){return t.length<3?t:([e._normalize,e._doStep1a,e._doStep1b,e._doStep1c,e._doStep2,e._doStep3,e._doStep4,e._doStep5].forEach(function(e){t=e(t)}),t)}}]),e}();module.exports={PorterStemmer:PorterStemmer};